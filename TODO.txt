fix functions seeing vars outside of its scope

# LATER
language server??
clojure
